# learning_SQL

Задачи по курсу "Основы реляционных баз данных. MySQL".

## Урок 1. Установка окружения. DDL-команды

## Урок 2. Управление БД. Язык запросов SQL
### Практическое задание по теме “Управление БД”
Установите СУБД MySQL. Создайте в домашней директории файл .my.cnf, задав в нем логин и пароль, который указывался при установке.
Создайте базу данных example, разместите в ней таблицу users, состоящую из двух столбцов, числового id и строкового name.
Создайте дамп базы данных example из предыдущего задания, разверните содержимое дампа в новую базу данных sample.
(по желанию) Ознакомьтесь более подробно с документацией утилиты mysqldump. Создайте дамп единственной таблицы help_keyword базы данных mysql. Причем добейтесь того, чтобы дамп содержал только первые 100 строк таблицы.

## Урок 3. Введение в проектирование БД
### Практическое задание по теме “Введение в проектирование БД”
Написать cкрипт, добавляющий в БД vk, которую создали на 3 вебинаре, 3-4 новые таблицы (с перечнем полей, указанием индексов и внешних ключей).
(по желанию: организовать все связи 1-1, 1-М, М-М)

## Урок 4. CRUD-операции
### Практическое задание по теме “CRUD - операции”
1. Заполнить все таблицы БД vk данными (по 10-100 записей в каждой таблице).
2. Написать скрипт, возвращающий список имен (только firstname) пользователей без повторений в алфавитном порядке.
3. Первые пять пользователей пометить как удаленные.
4. Написать скрипт, удаляющий сообщения «из будущего» (дата больше сегодняшней).
5. Написать название темы курсового проекта.

## Урок 5. Операторы, фильтрация, сортировка и ограничение. Агрегация данных
### Практическое задание по теме «Операторы, фильтрация, сортировка и ограничение»

1. (по желанию) Из таблицы users необходимо извлечь пользователей, родившихся в августе и мае. Месяцы заданы в виде списка английских названий (may, august) 
SELECT * FROM users WHERE birthday = may and birthday = august;

2. (по желанию) Из таблицы catalogs извлекаются записи при помощи запроса. SELECT * FROM catalogs WHERE id IN (5, 1, 2); Отсортируйте записи в порядке, заданном в списке IN. 

### Практическое задание теме «Агрегация данных»

1. Подсчитайте средний возраст пользователей в таблице users. shop
2. Подсчитайте количество дней рождения, которые приходятся на каждый из дней недели. Следует учесть, что необходимы дни недели текущего года, а не года рождения.
3.  (по желанию) Подсчитайте произведение в чисел столбце таблицы.

## Урок 6. Операторы, фильтрация, сортировка и ограничение. Агрегация данных
### Практическое задание по теме “Операторы, фильтрация, сортировка и ограничение. Агрегация данных”

1. Пусть задан некоторый пользователь. Из всех друзей этого пользователя найдите человека, который больше всех общался с нашим пользователем.
2. Подсчитать общее количество лайков, которые получили пользователи младше 11 лет.
3. Определить кто больше поставил лайков (всего): мужчины или женщины.

## Урок 7. Сложные запросы
### Тема “Сложные запросы” урок 7

1. Составьте список пользователей users, которые осуществили хотя бы один заказ orders в интернет магазине.
2. Выведите список товаров products и разделов catalogs, который соответствует товару.
3. (по желанию) Пусть имеется таблица рейсов flights (id, from, to) и таблица городов cities (label, name). Поля from, to и label содержат английские названия городов, поле name — русское. Выведите список рейсов flights с русскими названиями городов.

## Урок 8. Сложные запросы
### Практическое задание по теме “Сложные запросы”. Работаем с БД vk, скрипт для создания, размещен к 6 уроку:

1. Пусть задан некоторый пользователь. Из всех друзей этого пользователя найдите человека, который больше всех общался с выбранным пользователем (написал ему сообщений).
2. Подсчитать общее количество лайков, которые получили пользователи младше 11 лет.
3. Определить кто больше поставил лайков (всего): мужчины или женщины.

## Урок 9. Транзакции, переменные, представления. Администрирование. Хранимые процедуры и функции, триггеры

### Практическое задание по теме “Транзакции, переменные, представления”

1. В базе данных shop и sample присутствуют одни и те же таблицы, учебной базы данных. Переместите запись id = 1 из таблицы shop.users в таблицу sample.users. Используйте транзакции.
2. Создайте представление, которое выводит название name товарной позиции из таблицы products и соответствующее название каталога name из таблицы catalogs.
3. (по желанию) Пусть имеется таблица с календарным полем created_at. В ней размещены разреженные календарные записи за август 2018 года '2018-08-01', '2016-08-04', '2018-08-16' и 2018-08-17. Составьте запрос, который выводит полный список дат за август, выставляя в соседнем поле значение 1, если дата присутствует в исходном таблице и 0, если она отсутствует.
4. (по желанию) Пусть имеется любая таблица с календарным полем created_at. Создайте запрос, который удаляет устаревшие записи из таблицы, оставляя только 5 самых свежих записей.

### Практическое задание по теме “Администрирование MySQL” (эта тема изучается по вашему желанию)

1. Создайте двух пользователей которые имеют доступ к базе данных shop. Первому пользователю shop_read должны быть доступны только запросы на чтение данных, второму пользователю shop — любые операции в пределах базы данных shop.
2. (по желанию) Пусть имеется таблица accounts содержащая три столбца id, name, password, содержащие первичный ключ, имы accounts, предоставляющий доступ к столбца id и name. Создайте пользователя user_read, который бы не имел доступа к таблице accounts, однако, мог бы извлекать записи из представления username.
3. (по желанию) Напишите хранимую функцию для вычисления произвольного числа Фибоначчи. Числами Фибоначчи называется последовательность в которой число равно сумме двух предыдущих чисел. Вызов функции FIBONACCI(10) должен возвращать число 55.

## Урок 10. Транзакции, переменные, представления. Администрирование. Хранимые процедуры и функции, триггеры

Прислать предварительную версию курсового проекта:
DDL-команды;
Скрипт наполнения таблиц данными, 10-100 строк в каждой таблице (можно пользоваться генераторами данных).

## Урок 11. Оптимизация запросов. NoSQL
### Практическое задание по теме “Оптимизация запросов”
1. Создайте таблицу logs типа Archive. Пусть при каждом создании записи в таблицах users, catalogs и products в таблицу logs помещается время и дата создания записи, название таблицы, идентификатор первичного ключа и содержимое поля name.
2. Создайте SQL-запрос, который помещает в таблицу users миллион записей.

## Урок 12. Оптимизация запросов
КУРСОВОЙ ПРОЕКТ
